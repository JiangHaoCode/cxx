(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[93],{

/***/ "./src/assets/industry_user.xlsx":
/*!***************************************!*\
  !*** ./src/assets/industry_user.xlsx ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/industry_user.22d56485.xlsx";

/***/ }),

/***/ "./src/pages/IndustryUser/Tabs/RosterModal.jsx":
/*!*****************************************************!*\
  !*** ./src/pages/IndustryUser/Tabs/RosterModal.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/modal/index.js");
/* harmony import */ var antd_es_input_number_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/input-number/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input-number/style/index.js");
/* harmony import */ var antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/input-number */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input-number/index.js");
/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/es/select/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/select/style/index.js");
/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/select */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/select/index.js");
/* harmony import */ var antd_es_form_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/form/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/form/style/index.js");
/* harmony import */ var antd_es_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/es/form */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/form/index.js");
/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/es/input/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input/style/index.js");
/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd/es/input */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/regenerator */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/objectSpread */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/objectSpread.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/asyncToGenerator */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/slicedToArray */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _services_industry__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/services/industry */ "./src/services/industry.js");
/* harmony import */ var dva__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! dva */ "./node_modules/.pnpm/dva@2.4.1_react-dom@16.14.0+react@16.14.0/node_modules/dva/index.js");
/* harmony import */ var dva__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash */ "./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);


















 // import { region } from '@/pages/CommonModelFunc/sortData';

var RosterModal = props => {
  var status = props.status,
      _props$item = props.item,
      item = _props$item === void 0 ? {} : _props$item,
      cancle = props.cancle,
      fetch = props.fetch,
      setRoster = props.setRoster,
      _props$form = props.form,
      getFieldDecorator = _props$form.getFieldDecorator,
      validateFields = _props$form.validateFields,
      resetFields = _props$form.resetFields,
      getFieldValue = _props$form.getFieldValue,
      dispatch = props.dispatch,
      loading = props.loading;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_14__["useState"])([]),
      _useState2 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default()(_useState, 2),
      listIndustry = _useState2[0],
      setListIndustry = _useState2[1];

  var onOk = () => {
    validateFields( /*#__PURE__*/function () {
      var _ref = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_12___default()( /*#__PURE__*/_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee(err, fieldsValue) {
        return _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!err) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                if (!item.id) {
                  _context.next = 7;
                  break;
                }

                _context.next = 5;
                return dispatch({
                  type: 'industryuser/update',
                  payload: _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_11___default()({}, fieldsValue, {
                    id: item.id
                  }),
                  callback: () => {
                    cancle();
                    setTimeout(() => {
                      setRoster();
                      fetch();
                      resetFields();
                    }, 300);
                  }
                });

              case 5:
                _context.next = 9;
                break;

              case 7:
                _context.next = 9;
                return dispatch({
                  type: 'industryuser/create',
                  payload: fieldsValue,
                  callback: () => {
                    cancle();
                    setTimeout(() => {
                      setRoster();
                      fetch();
                    }, 300);
                  }
                });

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }());
  };

  var search = value => {
    if (!value) return;
    Object(_services_industry__WEBPACK_IMPORTED_MODULE_15__["list"])({
      name: value
    }).then(response => {
      if (!(response === null || response === void 0 ? void 0 : response.error)) {
        setListIndustry(response.data || []);
      }
    });
  };

  var searchIndustry = Object(lodash__WEBPACK_IMPORTED_MODULE_17__["debounce"])(search, 500);

  var changeIndustry = (_, options) => {};

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_modal__WEBPACK_IMPORTED_MODULE_1__["default"], {
    title: "".concat(item.id ? '编辑' : '创建', "\u884C\u4E1A\u4EBA\u5458"),
    visible: status,
    onCancel: () => cancle(),
    onOk: onOk,
    width: 700,
    confirmLoading: loading
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"], {
    wrapperCol: {
      span: 17
    },
    labelCol: {
      span: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    label: "\u59D3\u540D"
  }, getFieldDecorator('user_name', {
    initialValue: item.user_name,
    rules: [{
      required: true,
      message: '必填项'
    }]
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_9__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    label: "\u91CD\u70B9\u884C\u4E1A\u5355\u4F4D"
  }, getFieldDecorator('industry_name', {
    initialValue: item.industry_name
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_5__["default"], {
    placeholder: "\u8BF7\u8F93\u5165",
    showSearch: true,
    onSearch: searchIndustry,
    filterOption: false,
    allowClear: true,
    onChange: changeIndustry
  }, listIndustry.map(i => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_5__["default"].Option, {
    key: i.id,
    value: i.name
  }, i.name))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    style: {
      display: 'none'
    }
  }, getFieldDecorator('industry_id', {
    initialValue: item.industry_id
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    label: "\u8BC1\u4EF6\u53F7\u7801"
  }, getFieldDecorator('card_no', {
    initialValue: item.r_card_no,
    rules: [{
      required: true,
      message: '必填项'
    }]
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_9__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    label: "\u624B\u673A\u53F7\u7801"
  }, getFieldDecorator('phone', {
    initialValue: item.r_phone
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_9__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].Item, {
    label: "\u5907\u6CE8"
  }, getFieldDecorator('remark', {
    initialValue: item.remark
  })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_9__["default"].TextArea, {
    rows: 3
  })))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(dva__WEBPACK_IMPORTED_MODULE_16__["connect"])(_ref2 => {
  var loading = _ref2.loading;
  return {
    loading: loading.effects['industry/create'] || loading.effects['industry/update']
  };
})(antd_es_form__WEBPACK_IMPORTED_MODULE_7__["default"].create()(RosterModal)));

/***/ }),

/***/ "./src/pages/IndustryUser/Tabs/UploadFile.jsx":
/*!****************************************************!*\
  !*** ./src/pages/IndustryUser/Tabs/UploadFile.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_upload_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/upload/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/upload/style/index.js");
/* harmony import */ var antd_es_upload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/upload */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/upload/index.js");
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/button/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/button/style/index.js");
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/button */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/button/index.js");
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/modal/index.js");
/* harmony import */ var antd_es_message_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/message/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/message/style/index.js");
/* harmony import */ var antd_es_message__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/es/message */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/message/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/slicedToArray */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _assets_industry_user_xlsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/assets/industry_user.xlsx */ "./src/assets/industry_user.xlsx");
/* harmony import */ var _assets_industry_user_xlsx__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_assets_industry_user_xlsx__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/request */ "./src/utils/request.js");














var getResult = fields => {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p", null, "\u6210\u529F\uFF1A", fields.success_num, " \u5931\u8D25\uFF1A", fields.failed_num), fields.failed_num !== 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p", null, "\u5931\u8D25\u539F\u56E0\uFF1A"), fields.failed_list.map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p", null, item))));
};

var UploadFile = props => {
  var cancle = props.cancle;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(false),
      _useState2 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState, 2),
      loading = _useState2[0],
      setLoading = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])([]),
      _useState4 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState3, 2),
      fileList = _useState4[0],
      setFileList = _useState4[1];

  var changeFile = info => {
    setFileList([...info.fileList]);
  };

  var onOk = () => {
    if (fileList.length === 0) {
      antd_es_message__WEBPACK_IMPORTED_MODULE_7__["default"].warn('请上传文件');

      return;
    }

    var params = new FormData();
    params.append('file', fileList[0].originFileObj);
    setLoading(true);
    Object(_utils_request__WEBPACK_IMPORTED_MODULE_11__["default"])('/ncov/collate/upload-collate-department-users', {
      method: 'POST',
      body: params
    }).then(response => {
      setLoading(false);

      if (!(response === null || response === void 0 ? void 0 : response.error)) {
        antd_es_modal__WEBPACK_IMPORTED_MODULE_5__["default"].success({
          width: 600,
          okText: '确定',
          content: getResult(response.input_result),
          onOk: () => {
            setFileList([]);
          }
        });
      }
    });
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    visible: true,
    title: "\u5BFC\u5165",
    onCancel: () => cancle(),
    onOk: onOk,
    confirmLoading: loading
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_upload__WEBPACK_IMPORTED_MODULE_1__["default"], {
    accept: ".xlsx,.xls",
    onChange: changeFile,
    fileList: fileList
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disabled: fileList.length === 1
  }, "\u9009\u62E9\u6587\u4EF6")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
    style: {
      marginTop: 24
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a", {
    href: _assets_industry_user_xlsx__WEBPACK_IMPORTED_MODULE_10___default.a,
    target: "_blank"
  }, "\u4E0B\u8F7D\u6A21\u677F\u6587\u4EF6"))));
};

/* harmony default export */ __webpack_exports__["default"] = (UploadFile);

/***/ }),

/***/ "./src/pages/IndustryUser/index.jsx":
/*!******************************************!*\
  !*** ./src/pages/IndustryUser/index.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_card_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/card/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/card/style/index.js");
/* harmony import */ var antd_es_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/card */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/card/index.js");
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/button/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/button/style/index.js");
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/button */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/button/index.js");
/* harmony import */ var antd_es_popconfirm_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/es/popconfirm/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/popconfirm/style/index.js");
/* harmony import */ var antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/popconfirm */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/popconfirm/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/regenerator */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/asyncToGenerator */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var antd_es_divider_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/es/divider/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/divider/style/index.js");
/* harmony import */ var antd_es_divider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd/es/divider */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/divider/index.js");
/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! antd/es/input/style */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input/style/index.js");
/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! antd/es/input */ "./node_modules/.pnpm/antd@3.26.20_react-dom@16.14.0+react@16.14.0/node_modules/antd/es/input/index.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/objectSpread */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/objectSpread.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/.pnpm/babel-preset-umi@1.8.4/node_modules/@babel/runtime/helpers/slicedToArray */ "./node_modules/.pnpm/@babel+runtime@7.4.5/node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ "./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var dva__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! dva */ "./node_modules/.pnpm/dva@2.4.1_react-dom@16.14.0+react@16.14.0/node_modules/dva/index.js");
/* harmony import */ var dva__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _components_PageHeaderWrapper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/PageHeaderWrapper */ "./src/components/PageHeaderWrapper/index.js");
/* harmony import */ var _components_SearchForm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/SearchForm */ "./src/components/SearchForm/index.jsx");
/* harmony import */ var _components_StandardTable__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/StandardTable */ "./src/components/StandardTable/index.js");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/utils/utils */ "./src/utils/utils.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! moment */ "./node_modules/.pnpm/moment@2.29.3/node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _components_DatePick__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/components/DatePick */ "./src/components/DatePick/index.jsx");
/* harmony import */ var _Tabs_RosterModal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Tabs/RosterModal */ "./src/pages/IndustryUser/Tabs/RosterModal.jsx");
/* harmony import */ var _Tabs_UploadFile_jsx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Tabs/UploadFile.jsx */ "./src/pages/IndustryUser/Tabs/UploadFile.jsx");


























var Roster = props => {
  //   console.log(props);s
  var industryuser = props.industryuser,
      loading = props.loading,
      dispatch = props.dispatch;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_14__["useState"])(false),
      _useState2 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default()(_useState, 2),
      status = _useState2[0],
      setStatus = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_14__["useState"])({}),
      _useState4 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default()(_useState3, 2),
      item = _useState4[0],
      setItem = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_14__["useState"])({}),
      _useState6 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default()(_useState5, 2),
      searchValue = _useState6[0],
      setSearchValue = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_14__["useState"])(false),
      _useState8 = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_13___default()(_useState7, 2),
      uploadStatus = _useState8[0],
      setUploadStatus = _useState8[1];

  var timeRef = Object(react__WEBPACK_IMPORTED_MODULE_14__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_14__["useEffect"])(() => {
    var session = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["getSession"])('industry-user');

    if (session) {
      dispatch({
        type: 'industryuser/fetch',
        payload: session
      });
    } else {
      var params = {
        created_at_gte: moment__WEBPACK_IMPORTED_MODULE_20___default()().startOf('day').format('YYYY-MM-DD HH:mm:ss')
      };
      Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["setSession"])('industry-user', params);
      dispatch({
        type: 'industryuser/fetch',
        payload: params
      });
    }
  }, [searchValue]);

  var handleStandardTableChange = pagination => {
    var session = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["getSession"])('industry-user');

    var params = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12___default()({}, session, {
      page: pagination.current,
      page_size: pagination.pageSize
    });

    setSearchValue(params);
    Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["setSession"])('industry-user', params);
  };

  var searchArray = () => {
    var session = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["getSession"])('industry-user');
    return [{
      label: '姓名',
      name: 'user_name',
      initialValue: session === null || session === void 0 ? void 0 : session.user_name,
      itemList: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_11__["default"], {
        placeholder: "\u8BF7\u8F93\u5165"
      })
    }, {
      label: '创建时间',
      name: 'created_at',
      initialValue: [session ? session.created_at_gte ? moment__WEBPACK_IMPORTED_MODULE_20___default()(session.created_at_gte) : undefined : moment__WEBPACK_IMPORTED_MODULE_20___default()().startOf('day'), session ? session.created_at_lte ? moment__WEBPACK_IMPORTED_MODULE_20___default()(session.created_at_lte) : undefined : undefined],
      itemList: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_DatePick__WEBPACK_IMPORTED_MODULE_21__["default"], {
        ref: timeRef
      })
    }];
  };

  var handleSearch = search => {
    var session = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["getSession"])('industry-user');

    var params = _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12___default()({}, session, search);

    if (search.created_at) {
      if (search.created_at[0]) {
        params.created_at_gte = search.created_at[0].format('YYYY-MM-DD HH:mm:ss');
      } else {
        params.created_at_gte = undefined;
      }

      if (search.created_at[1]) {
        params.created_at_lte = search.created_at[1].format('YYYY-MM-DD HH:mm:ss');
      } else {
        params.created_at_lte = undefined;
      }
    }

    params.created_at = undefined;
    Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["setSession"])('industry-user', params);
    setSearchValue(params);
  };

  var changeRefresh = setFieldsValue => {
    var params = {
      created_at_gte: moment__WEBPACK_IMPORTED_MODULE_20___default()().startOf('day').format('YYYY-MM-DD HH:mm:ss')
    };
    Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["setSession"])('industry-user', params);
    setSearchValue(params);
    timeRef.current.setState({
      startValue: moment__WEBPACK_IMPORTED_MODULE_20___default()().startOf('day'),
      endValue: undefined,
      endOpen: false
    });
    timeRef.current.props.onChange([moment__WEBPACK_IMPORTED_MODULE_20___default()().startOf('day')]);
  };

  var columns = [{
    title: 'ID',
    dataIndex: 'id',
    key: 'id'
  }, {
    title: '姓名',
    dataIndex: 'user_name',
    key: 'user_name'
  }, {
    title: '省/市/(区/县)/(街道/镇)',
    dataIndex: 'province',
    key: 'province',
    render: (text, record) => "".concat(text, "/").concat(record.city, "/").concat(record.region, "/").concat(record.street)
  }, {
    title: '检测频率(几天一检)',
    dataIndex: 'frequency_day',
    key: 'frequency_day'
  }, {
    title: '重点行业名称',
    dataIndex: 'industry_name',
    key: 'industry_name'
  }, {
    title: '最近采样日记',
    dataIndex: 'sample_log',
    key: 'sample_log'
  }, {
    title: '最近采样次数',
    dataIndex: 'sample_number',
    key: 'sample_number'
  }, {
    title: '备注',
    dataIndex: 'remark',
    key: 'remark'
  }, {
    title: '创建时间',
    dataIndex: 'created_at',
    key: 'created_at'
  }, {
    title: '操作',
    key: 'action',
    render: record => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a", {
        onClick: () => {
          setStatus(true);
          setItem(record);
        }
      }, "\u7F16\u8F91"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_divider__WEBPACK_IMPORTED_MODULE_9__["default"], {
        type: "vertical"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_5__["default"], {
        title: "\u5220\u9664\uFF1F",
        onConfirm: /*#__PURE__*/_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()( /*#__PURE__*/_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee() {
          return _home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return dispatch({
                    type: 'roster/deleteDetail',
                    payload: {
                      id: record.id
                    }
                  });

                case 2:
                  setSearchValue(_home_jianghao_hapyun_ncov_web_node_modules_pnpm_babel_preset_umi_1_8_4_node_modules_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_12___default()({}, searchValue));

                case 3:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }))
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a", null, "\u5220\u9664")));
    }
  }];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_PageHeaderWrapper__WEBPACK_IMPORTED_MODULE_16__["default"], {
    hiddenBreadcrumb: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_card__WEBPACK_IMPORTED_MODULE_1__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
    style: {
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center',
      marginBottom: '4px'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_SearchForm__WEBPACK_IMPORTED_MODULE_17__["default"], {
    searchArray: searchArray(),
    search: handleSearch,
    changeRefresh: changeRefresh
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    size: "small",
    type: "primary",
    icon: "plus",
    onClick: () => setStatus(true)
  }, "\u65B0\u589E")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
    style: {
      marginBottom: 12
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: "upload",
    size: "small",
    onClick: () => setUploadStatus(true),
    type: "primary"
  }, "\u5BFC\u5165")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_StandardTable__WEBPACK_IMPORTED_MODULE_18__["default"], {
    columns: columns,
    loading: loading // rowSelection={rowSelection}
    ,
    data: industryuser.data,
    rowKey: "id",
    onChange: handleStandardTableChange,
    scroll: {
      x: 0
    }
  }))), uploadStatus && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_Tabs_UploadFile_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], {
    cancle: () => setUploadStatus(false)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_Tabs_RosterModal__WEBPACK_IMPORTED_MODULE_22__["default"], {
    status: status,
    item: item,
    cancle: () => {
      setStatus(false);
      setTimeout(() => {
        setItem({});
      }, 300);
    },
    setRoster: () => setItem({}),
    fetch: () => setSearchValue({})
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(dva__WEBPACK_IMPORTED_MODULE_15__["connect"])(_ref2 => {
  var industryuser = _ref2.industryuser,
      loading = _ref2.loading;
  return {
    industryuser,
    loading: loading.effects['industryuser/fetch']
  };
})(Roster));

/***/ })

}]);
//# sourceMappingURL=93.async.js.map